<!DOCTYPE html>
<html>

<body>
    <h1>RATGDO DISCO web installer for HomeKit integrations</h1>
    <script type="module" src="https://unpkg.com/esp-web-tools@9/dist/web/install-button.js?module"></script>
    <style type="text/css">
        * {
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }
    </style>
    <h4>HomeKit:</h4>
    <p>This installer is for the ratgdo32 &amp; ratgdo32 disco boards. It will not work with the ratgdo v2.5xi boards.
        If you have an older v2.5x board, please use <a href="https://ratgdo.github.io/homekit-ratgdo/flash.html">this installer</a>.
    </p>
    <p>Set WiFi network SSID and Password after installation by connecting a device to ratgdo's hotspot, named
        <i>Garage Door ABCDEF</i> (where last six characters are unique) and connect a browser to IP address
        http://192.168.4.1
    </p>
    <h4>ESP Home:</h4>
    <p>If you want to use <b>ESPHome</b> check out the <a
            href="https://ratgdo.github.io/esphome-ratgdo/" target="_blank">ESPHome firmware</a> &amp; <a
            href="https://github.com/ratgdo/esphome-ratgdo">GitHub Repo</a>.</p>

    <p>For a comparison of available features for the different firmware options, please refer to the <a
            href="https://ratcloud.llc/pages/features">feature matrix</a>.</p>

    <h4>Drivers</h4>
    <p>Both ratgdo32 and ratgdo32 disco use a CH9102 USB to Serial chipset. Most modern operating systems that have been tested include the necessary drivers.</p>
	<p>Standalone drivers are available. Only install them if needed:</p>
    <ul>
        <li>[<a href="https://www.wch-ic.com/downloads/CH341SER_EXE.html" target="_blank">macOS driver download</a>]</li>
        <li>[<a href="https://www.wch-ic.com/downloads/CH341SER_MAC_ZIP.html" target="_blank">Windows driver download</a>]</li>
    </ul>

    <h3>This may take a while!</h3>
    <p>The setup process may take as long as a full minute, so please be patient.</p>

    <esp-web-install-button manifest="manifest.json"></esp-web-install-button>
    <script>
        const button = document.querySelector('esp-web-install-button');
        button.overrides = {
            checkSameFirmware(manifest, improvInfo) {
                const manifestFirmware = manifest.name.toLowerCase();
                const deviceFirmware = improvInfo.firmware.toLowerCase();
                return manifestFirmware.includes(deviceFirmware);
            }
        };
    </script>
</body>

</html>